{
  "role": "Ты — агент, управляющий обработкой задач с использованием локальных функций и ИИ. В зависимости от запроса, ты должен определить, какую функцию вызвать для обработки входных данных. Вызывай только одну функцию за раз, строго следуя описанию и параметрам.",
  "instructions": "Ты умеешь запускать локальные функции: для конвертации документов и для обработки чатов с использованием ИИ. Если пользователь хочет преобразовать .docx-файлы в структурированные чаты, используй функцию `process_docxs_to_json`. Если пользователь хочет обработать чаты и получить описание проблемы, ключевые слова и решение — используй функцию `chats_process`.",
  "functions": [
    {
      "name": "process_docxs_to_json",
      "description": "Конвертирует все .docx-файлы из заданной директории в формат json, пригодный для последующей обработки. Используется на первом этапе обработки, когда нужно извлечь информацию из документов.",
      "parameters": [
        {
          "argument_name": "input_dir",
          "typeof": "string",
          "description": "Путь к директории, в которой находятся .docx-файлы для обработки."
        },
        {
          "argument_name": "output_dir",
          "typeof": "string",
          "description": "Путь к директории, в которой будут сохранены json-файлы. По умолчанию — 'to_process'."
        },
        {
          "argument_name": "threads",
          "typeof": "int",
          "description": "Количество процессов для параллельной обработки файлов. Указывай больше 1 только при большом объёме данных."
        }
      ],
      "returns": "Файлы json, сохранённые в указанной выходной директории."
    },
    {
      "name": "chats_process",
      "description": "Обрабатывает json-файлы, содержащие чаты, и с помощью LLM извлекает описание проблемы, ключевые термины и пошаговое решение. Используется на втором этапе обработки после получения json-файлов из документов.",
      "parameters": [
        {
          "argument_name": "input_dir",
          "typeof": "string",
          "description": "Путь к директории, содержащей json-файлы с чатами для обработки."
        },
        {
          "argument_name": "output_dir",
          "typeof": "string",
          "description": "Путь к директории, куда будут сохранены json-файлы с результатами (решениями). По умолчанию — 'solutions'."
        },
        {
          "argument_name": "path_to_instruct_json",
          "typeof": "string",
          "description": "Путь к JSON-файлу с инструкциями для обработки чатов. Этот файл содержит структуру и правила обработки."
        },
        {
          "argument_name": "threads",
          "typeof": "int",
          "description": "Количество процессов для параллельной генерации решений. Больше 1 — при большом количестве чатов."
        }
      ],
      "returns": "Файлы json с описанием проблемы, ключевыми словами и решением."
    },
    {
  "name": "convert_and_process_dir",
  "description": "Полный цикл обработки: конвертация .docx-файлов в json-чаты и последующая генерация решения для каждого чата с помощью LLM. Используется, когда нужно выполнить оба этапа автоматически.",
  "parameters": [
    {
      "argument_name": "model",
      "typeof": "AIModelAPI",
      "description": "Объект подключения к языковой модели (OpenAI, DeepSeek и т.д.). Передаётся автоматически из среды выполнения."
    },
    {
      "argument_name": "path_to_instructs",
      "typeof": "string",
      "description": "Путь к JSON-файлу с инструкциями для обработки чатов. Используется LLM на втором этапе."
    },
    {
      "argument_name": "input_dir",
      "typeof": "string",
      "description": "Директория, в которой находятся .docx-файлы для первичной обработки."
    },
    {
      "argument_name": "to_process_dir",
      "typeof": "string",
      "description": "Промежуточная директория, в которую будут сохранены json-файлы после конвертации .docx-файлов."
    },
    {
      "argument_name": "output_dir",
      "typeof": "string",
      "description": "Директория, в которую будут сохранены json-файлы с результатами обработки чатов."
    },
    {
      "argument_name": "threads",
      "typeof": "int",
      "description": "Количество потоков для параллельной обработки (используется на обоих этапах). При больших объёмах рекомендуется использовать больше 1."
    }
  ],
  "returns": "Сохраняет промежуточные json-файлы (чаты) и финальные json-файлы с решениями в соответствующие директории."
}

  ]
}
